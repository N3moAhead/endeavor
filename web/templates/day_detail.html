<!doctype html>
<html lang="en" class="dark">
    <head>
        <title>Endeavor - Day Detail</title>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link href="/static/css/style.css" rel="stylesheet" />
    </head>
    <body class="bg-gray-900 text-gray-200 antialiased">
        <div class="container mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 py-12">
            <header class="text-center mb-10">
                <div class="nav-section mb-8">
                    <a
                        href="/"
                        class="text-lg font-semibold text-gray-300 hover:bg-gray-700 py-3 px-5 rounded-lg mx-2 transition-colors"
                        >üìù Daily Entry</a
                    >
                    <a
                        href="/history"
                        class="text-lg font-semibold text-white bg-gray-800 py-3 px-5 rounded-lg mx-2 border-2 border-indigo-500 shadow-[0_0_15px_rgba(79,70,229,0.8)]"
                        >üìä History</a
                    >
                </div>
                <h1 class="text-4xl font-bold text-white">Day Details</h1>
                <div class="date-header text-center text-xl text-gray-400 mt-2">
                    {{.Day.Date.Format "Monday, January 2, 2006"}}
                </div>
            </header>

            <div class="space-y-12">
                <div class="section">
                    <h2 class="text-2xl font-bold text-white mb-6 text-center">
                        How you felt
                    </h2>
                    {{if .Day.Mood}}
                    <div
                        class="bg-gray-800 rounded-lg p-8 text-center max-w-sm mx-auto border-2
                        {{if not .Day.Mood}}border-gray-700{{end}}
                        {{if .Day.Mood}}
                            {{if eq .Day.Mood.Name "bad"}}border-red-700 ring-2 ring-red-700/50{{end}}
                            {{if eq .Day.Mood.Name "meh"}}border-orange-500 ring-2 ring-orange-500/50{{end}}
                            {{if eq .Day.Mood.Name "okay"}}border-yellow-500 ring-2 ring-yellow-500/50{{end}}
                            {{if eq .Day.Mood.Name "good"}}border-green-400 ring-2 ring-green-400/50{{end}}
                            {{if eq .Day.Mood.Name "amazing"}}border-green-600 ring-2 ring-green-600/50{{end}}
                        {{end}}"
                    >
                        <span class="text-6xl mb-4 block">
                            {{if eq .Day.Mood.Name "amazing"}}üéâ{{end}} {{if eq
                            .Day.Mood.Name "good"}}üòÑ{{end}} {{if eq
                            .Day.Mood.Name "okay"}}üôÇ{{end}} {{if eq
                            .Day.Mood.Name "meh"}}üòê{{end}} {{if eq
                            .Day.Mood.Name "bad"}}üòû{{end}}
                        </span>
                        <div class="text-3xl font-bold text-white">
                            {{.Day.Mood.Description}}
                        </div>
                    </div>
                    {{else}}
                    <div
                        class="bg-gray-800 rounded-lg p-8 text-center border border-gray-700"
                    >
                        <p class="text-gray-400 italic">
                            No mood recorded for this day
                        </p>
                    </div>
                    {{end}}
                </div>

                <div class="section">
                    <h2 class="text-2xl font-bold text-white mb-6 text-center">
                        What you did
                    </h2>
                    {{if .Day.Activities}}
                    <div
                        class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"
                    >
                        {{range $category := groupActivitiesByCategory
                        .Day.Activities}}
                        <div
                            class="bg-gray-800 rounded-lg p-5 border border-gray-700"
                        >
                            <div class="flex items-center mb-4">
                                <span
                                    class="w-4 h-4 rounded-full mr-3 flex-shrink-0"
                                    style="background-color: {{$category.Color}}"
                                ></span>
                                <h3 class="font-bold text-xl text-gray-100">
                                    {{$category.Name}}
                                </h3>
                            </div>
                            <ul class="space-y-2">
                                {{range $category.Activities}}
                                <li
                                    class="p-3 rounded-md bg-gray-700/50 text-gray-300"
                                >
                                    {{.Name}}
                                </li>
                                {{end}}
                            </ul>
                        </div>
                        {{end}}
                    </div>
                    {{else}}
                    <div
                        class="bg-gray-800 rounded-lg p-8 text-center border border-gray-700"
                    >
                        <p class="text-gray-400 italic">
                            No activities recorded for this day
                        </p>
                    </div>
                    {{end}}
                </div>
            </div>
        </div>
    </body>
</html>
